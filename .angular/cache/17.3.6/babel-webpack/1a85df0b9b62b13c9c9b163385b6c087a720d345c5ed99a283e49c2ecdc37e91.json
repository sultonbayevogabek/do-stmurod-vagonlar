{"ast":null,"code":"import { DestroyRef, inject, ViewContainerRef } from '@angular/core';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"overlayPanel\"];\nconst _c1 = [[[\"\", \"overlay-content\", \"\"]]];\nconst _c2 = [\"[overlay-content]\"];\nfunction OverlayComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n  }\n}\nexport class OverlayComponent {\n  constructor() {\n    this._destroyRef = inject(DestroyRef);\n    this._overlay = inject(Overlay);\n    this._viewContainerRef = inject(ViewContainerRef);\n  }\n  openPanel() {\n    if (!this.overlayPanel || !this.originElement) {\n      return;\n    }\n    if (!this._overlayRef) {\n      this._createOverlay();\n    }\n    this._overlayRef.attach(new TemplatePortal(this.overlayPanel, this._viewContainerRef));\n  }\n  _createOverlay() {\n    this._overlayRef = this._overlay.create({\n      hasBackdrop: true,\n      backdropClass: '',\n      scrollStrategy: this._overlay.scrollStrategies.block(),\n      positionStrategy: this._overlay.position().flexibleConnectedTo(this.originElement).withLockedPosition(true).withPush(true).withPositions([{\n        originX: 'end',\n        originY: 'bottom',\n        overlayX: 'end',\n        overlayY: 'top'\n      }])\n    });\n    this._overlayRef.backdropClick().pipe(takeUntilDestroyed(this._destroyRef)).subscribe(_ => {\n      this._overlayRef.detach();\n    });\n    this._overlayRef.keydownEvents().pipe(takeUntilDestroyed(this._destroyRef)).subscribe(event => {\n      if (event.key === 'Escape') {\n        this._overlayRef.detach();\n      }\n    });\n  }\n  static #_ = this.ɵfac = function OverlayComponent_Factory(t) {\n    return new (t || OverlayComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OverlayComponent,\n    selectors: [[\"overlay-panel\"]],\n    viewQuery: function OverlayComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.overlayPanel = _t.first);\n      }\n    },\n    inputs: {\n      originElement: \"originElement\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    ngContentSelectors: _c2,\n    decls: 2,\n    vars: 0,\n    consts: [[\"overlayPanel\", \"\"]],\n    template: function OverlayComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c1);\n        i0.ɵɵtemplate(0, OverlayComponent_ng_template_0_Template, 1, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvdmVybGF5LXBhbmVsLmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29yZS9jb21wb25lbnRzL292ZXJsYXktcGFuZWwvb3ZlcmxheS1wYW5lbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsNEtBQTRLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["DestroyRef","inject","ViewContainerRef","Overlay","TemplatePortal","takeUntilDestroyed","i0","ɵɵprojection","OverlayComponent","constructor","_destroyRef","_overlay","_viewContainerRef","openPanel","overlayPanel","originElement","_overlayRef","_createOverlay","attach","create","hasBackdrop","backdropClass","scrollStrategy","scrollStrategies","block","positionStrategy","position","flexibleConnectedTo","withLockedPosition","withPush","withPositions","originX","originY","overlayX","overlayY","backdropClick","pipe","subscribe","_","detach","keydownEvents","event","key","_2","selectors","viewQuery","OverlayComponent_Query","rf","ctx","ɵɵtemplate","OverlayComponent_ng_template_0_Template","ɵɵtemplateRefExtractor"],"sources":["/Users/sultonbayevogabek/Projects/do-stmurod-vagonlar/src/app/core/components/overlay-panel/overlay-panel.component.ts","/Users/sultonbayevogabek/Projects/do-stmurod-vagonlar/src/app/core/components/overlay-panel/overlay-panel.component.html"],"sourcesContent":["import { Component, DestroyRef, inject, Input, TemplateRef, ViewChild, ViewContainerRef } from '@angular/core';\nimport { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\n\n@Component({\n  selector: 'overlay-panel',\n  templateUrl: './overlay-panel.component.html',\n  styleUrl: './overlay-panel.component.scss',\n  standalone: true\n})\n\nexport class OverlayComponent {\n  @Input() originElement: HTMLElement;\n  @ViewChild('overlayPanel') private overlayPanel: TemplateRef<any>;\n  _overlayRef: OverlayRef;\n  _destroyRef = inject(DestroyRef);\n\n  _overlay: Overlay = inject(Overlay);\n  _viewContainerRef: ViewContainerRef = inject(ViewContainerRef);\n\n  openPanel(): void {\n    if (!this.overlayPanel || !this.originElement) {\n      return;\n    }\n    if (!this._overlayRef) {\n      this._createOverlay();\n    }\n\n    this._overlayRef.attach(new TemplatePortal(this.overlayPanel, this._viewContainerRef));\n  }\n\n  private _createOverlay(): void {\n    this._overlayRef = this._overlay.create({\n      hasBackdrop: true,\n      backdropClass: '',\n      scrollStrategy: this._overlay.scrollStrategies.block(),\n      positionStrategy: this._overlay\n        .position()\n        .flexibleConnectedTo(this.originElement)\n        .withLockedPosition(true)\n        .withPush(true)\n        .withPositions([\n          {\n            originX: 'end',\n            originY: 'bottom',\n            overlayX: 'end',\n            overlayY: 'top'\n          }\n        ])\n    });\n\n    this._overlayRef.backdropClick()\n      .pipe(takeUntilDestroyed(this._destroyRef))\n      .subscribe(_ => {\n        this._overlayRef.detach();\n      });\n\n    this._overlayRef.keydownEvents()\n      .pipe(takeUntilDestroyed(this._destroyRef))\n      .subscribe(event => {\n        if (event.key === 'Escape') {\n          this._overlayRef.detach();\n        }\n      });\n  }\n}\n","<ng-template #overlayPanel>\n\t<ng-content select=\"[overlay-content]\"></ng-content>\n</ng-template>\n"],"mappings":"AAAA,SAAoBA,UAAU,EAAEC,MAAM,EAAiCC,gBAAgB,QAAQ,eAAe;AAC9G,SAASC,OAAO,QAAoB,sBAAsB;AAC1D,SAASC,cAAc,QAAQ,qBAAqB;AACpD,SAASC,kBAAkB,QAAQ,4BAA4B;;;;;;;ICF9DC,EAAA,CAAAC,YAAA,GAAoD;;;ADWrD,OAAM,MAAOC,gBAAgB;EAP7BC,YAAA;IAWE,KAAAC,WAAW,GAAGT,MAAM,CAACD,UAAU,CAAC;IAEhC,KAAAW,QAAQ,GAAYV,MAAM,CAACE,OAAO,CAAC;IACnC,KAAAS,iBAAiB,GAAqBX,MAAM,CAACC,gBAAgB,CAAC;;EAE9DW,SAASA,CAAA;IACP,IAAI,CAAC,IAAI,CAACC,YAAY,IAAI,CAAC,IAAI,CAACC,aAAa,EAAE;MAC7C;IACF;IACA,IAAI,CAAC,IAAI,CAACC,WAAW,EAAE;MACrB,IAAI,CAACC,cAAc,EAAE;IACvB;IAEA,IAAI,CAACD,WAAW,CAACE,MAAM,CAAC,IAAId,cAAc,CAAC,IAAI,CAACU,YAAY,EAAE,IAAI,CAACF,iBAAiB,CAAC,CAAC;EACxF;EAEQK,cAAcA,CAAA;IACpB,IAAI,CAACD,WAAW,GAAG,IAAI,CAACL,QAAQ,CAACQ,MAAM,CAAC;MACtCC,WAAW,EAAE,IAAI;MACjBC,aAAa,EAAE,EAAE;MACjBC,cAAc,EAAE,IAAI,CAACX,QAAQ,CAACY,gBAAgB,CAACC,KAAK,EAAE;MACtDC,gBAAgB,EAAE,IAAI,CAACd,QAAQ,CAC5Be,QAAQ,EAAE,CACVC,mBAAmB,CAAC,IAAI,CAACZ,aAAa,CAAC,CACvCa,kBAAkB,CAAC,IAAI,CAAC,CACxBC,QAAQ,CAAC,IAAI,CAAC,CACdC,aAAa,CAAC,CACb;QACEC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,QAAQ;QACjBC,QAAQ,EAAE,KAAK;QACfC,QAAQ,EAAE;OACX,CACF;KACJ,CAAC;IAEF,IAAI,CAAClB,WAAW,CAACmB,aAAa,EAAE,CAC7BC,IAAI,CAAC/B,kBAAkB,CAAC,IAAI,CAACK,WAAW,CAAC,CAAC,CAC1C2B,SAAS,CAACC,CAAC,IAAG;MACb,IAAI,CAACtB,WAAW,CAACuB,MAAM,EAAE;IAC3B,CAAC,CAAC;IAEJ,IAAI,CAACvB,WAAW,CAACwB,aAAa,EAAE,CAC7BJ,IAAI,CAAC/B,kBAAkB,CAAC,IAAI,CAACK,WAAW,CAAC,CAAC,CAC1C2B,SAAS,CAACI,KAAK,IAAG;MACjB,IAAIA,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;QAC1B,IAAI,CAAC1B,WAAW,CAACuB,MAAM,EAAE;MAC3B;IACF,CAAC,CAAC;EACN;EAAC,QAAAD,CAAA,G;qBArDU9B,gBAAgB;EAAA;EAAA,QAAAmC,EAAA,G;UAAhBnC,gBAAgB;IAAAoC,SAAA;IAAAC,SAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;QCZ7BzC,EAAA,CAAA2C,UAAA,IAAAC,uCAAA,gCAAA5C,EAAA,CAAA6C,sBAAA,CAA2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}